<!DOCTYPE html>
<html>
<head>
  <title>Sudoku Heart Checker</title>

  <style>
    body { 
      font-family: Arial; 
      text-align:center; 
    }

    .grid {
      display:grid;
      grid-template-columns: repeat(9, 45px);
      grid-template-rows: repeat(9, 45px);
      justify-content:center;
      margin-top:20px;
    }

    input {
      width:45px;
      height:45px;
      text-align:center;
      font-size:20px;
      border:1px solid #aaa;
    }

    input:nth-child(3n+1) { border-left: 3px solid black; }
    input:nth-child(3n)   { border-right: 3px solid black; }

    input:nth-child(27n+1),
    input:nth-child(27n+2),
    input:nth-child(27n+3),
    input:nth-child(27n+4),
    input:nth-child(27n+5),
    input:nth-child(27n+6),
    input:nth-child(27n+7),
    input:nth-child(27n+8),
    input:nth-child(27n+9) {
      border-top: 3px solid black;
    }

    input:nth-child(1n+73){
      border-bottom: 3px solid black;
    }

    .msg {
      height:25px;
      margin-top:10px;
      font-size:22px;
    }

    /* Username at top-right */
    .usernameBox{
      position: fixed;
      top: 10px;
      right: 20px;
      font-size: 20px;
      font-weight: bold;
      color: #333;
    }

    /* Floating hearts animation */
    @keyframes floatUp {
      from { transform: translateY(0); opacity:1; }
      to { transform: translateY(-120vh); opacity:0; }
    }

    /* Player image inside usernameBox */
    #playerImg {
      display: none;
      width: 30px;
      height: 30px;
      vertical-align: middle;
      margin-left: 8px;
      border-radius: 50%;
    }

    /* Hint text */
    .hint {
      margin-top: 15px;
      font-size: 18px;
      color: #007BFF;
      font-weight: bold;
    }
  </style>
</head>

<body>

<h2>Sudoku ‚ù§Ô∏è Checker</h2>

<div class="usernameBox" id="usernameBox">
  <img id="playerImg" src="player.png" alt="Player">
</div>

<div class="grid" id="grid"></div>
<div class="msg" id="message"></div>
<div class="hint" id="hint">Hint: ÊííÂ®áor‰∫≤‰∫≤ to get one hint</div>

<!-- LOCAL SOUND FILES -->
<audio id="correctSound">
  <source src="correct.mp3" type="audio/mpeg">
</audio>

<audio id="wrongSound">
  <source src="wrong.mp3" type="audio/mpeg">
</audio>

<script>
/* ---------- NAME LOGIN WITH PHOTO ---------- */
let username = prompt("Enter your name:");
const nameBox = document.getElementById("usernameBox");
const img = document.getElementById("playerImg");

if(username === "abc123"){
  nameBox.innerHTML = "Player: " + username;
  nameBox.appendChild(img);  // add image beside name
  img.style.display = "inline";
} 
else {
  alert("Wrong name! Access denied.");
  window.location.href = "about:blank";   // redirect
}

/* ---------- Sudoku Data ---------- */
const puzzle = [
["x","x","x","x","3","7","6","x","x"],
["x","x","x","6","x","x","x","9","x"],
["x","x","8","x","x","x","x","x","4"],
["x","9","x","x","x","x","x","x","1"],
["6","x","x","x","x","x","x","x","9"],
["3","x","x","x","x","x","4","x","x"],
["7","x","x","x","x","x","8","x","x"],
["x","1","x","x","x","9","x","x","x"],
["x","x","2","5","4","x","x","x","x"]
];

const solution = [
[9,5,4,1,3,7,6,8,2],
[2,7,3,6,8,4,1,9,5],
[1,6,8,2,9,5,7,3,4],
[4,9,5,7,2,8,3,6,1],
[6,8,1,4,5,3,2,7,9],
[3,2,7,9,6,1,5,4,8],
[7,4,9,3,1,2,8,5,6],
[5,1,6,8,7,9,4,2,3],
[8,3,2,5,4,6,9,1,7]
];

const grid = document.getElementById("grid");
const message = document.getElementById("message");
const correctSound = document.getElementById("correctSound");
const wrongSound = document.getElementById("wrongSound");

/* Celebration hearts */
function celebrate(){
  message.innerHTML = "üéâ CONGRATULATIONS! YOU COMPLETED IT! ‚ù§Ô∏è";
  for(let i=0;i<40;i++){
    let heart = document.createElement("div");
    heart.innerHTML = "‚ù§Ô∏è";
    heart.style.position = "fixed";
    heart.style.left = Math.random()*100 + "vw";
    heart.style.top = "100vh";
    heart.style.fontSize = (20 + Math.random()*40) + "px";
    heart.style.animation = "floatUp 3s linear forwards";
    document.body.appendChild(heart);
    setTimeout(()=>heart.remove(),3000);
  }

  setTimeout(()=>{
    window.location.href = "https://your-link-here.com";
  },3000);
}

/* Check if all cells correct */
function checkComplete(){
  let inputs = document.querySelectorAll("#grid input");
  for(let r=0;r<9;r++){
    for(let c=0;c<9;c++){
      let index = r*9 + c;
      if(parseInt(inputs[index].value) !== solution[r][c]) return false;
    }
  }
  return true;
}

/* Build Sudoku Grid */
for(let r=0;r<9;r++){
  for(let c=0;c<9;c++){
    let input = document.createElement("input");
    input.maxLength = 1;

    if(puzzle[r][c] !== "x"){
      input.value = puzzle[r][c];
      input.disabled = true;
      input.style.background = "#eee";
    }

    input.addEventListener("input", function(){
      let val = parseInt(this.value);

      if(val === solution[r][c]){
        message.innerHTML = "‚ù§Ô∏è Correct!";
        correctSound.currentTime = 0;
        correctSound.play();
        if(navigator.vibrate) navigator.vibrate(150);

        if(checkComplete()) celebrate();
      } 
      else {
        message.innerHTML = "‚ùå Wrong!";
        wrongSound.currentTime = 0;
        wrongSound.play();
        this.value = "";
        if(navigator.vibrate) navigator.vibrate([200,100,200]);
      }
    });

    grid.appendChild(input);
  }
}
</script>

</body>
</html>
